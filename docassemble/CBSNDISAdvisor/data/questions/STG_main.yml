# This is the main file for your application.
# This file should contain the mandatory blocks
# as well as other data that defines your application
---
# Include other parts of this interview as a list of files in this block
include:
  - STG_age.yml
  - STG_residency.yml
  - STG_diagnosedautism.yml
  - STG_potentialautism.yml
  - STG_s24communication.yml
  - STG_s24socialinteraction.yml
  - STG_s24learning.yml
  - STG_s24mobility.yml
  - STG_s24selfmanagement.yml
  - STG_s24selfcare.yml
  - STG_s24socialandeconomicparticipation.yml
  - STG_noautism.yml
  - STG_ineligible.yml
  - STG_ineligibleduetoresidency.yml
  - STG_eligible.yml
  - STG_ineligibleduetoage.yml
---
# If we use objects we will declare them here.  Every application has
# an 'endpoint' object.  You may use other objects depending on your
# application's needs
objects:
  - endpoint: DADict
---
# Metadata about the app.  This isn't displayed anywhere but is useful
# as a record.
metadata:
  title: |
    CBS Inc NDIS Advisor
  authors:
    - name: Taylor Moore
    - name: Grace Hensel
    - name: Shimron Lobo
  organisation:  Flinders University
---
image sets:
  freepik:
    attribution: |
    images:
      cbs: cbs.jpg
---
# Welcome screen should go here
decoration: cbs
mandatory: True
question: |
  NDIS Advisor App
subquestion: |
  Welcome to our NDIS Eligibility Questionnaire!
  
  The purpose of this questionnaire is to decide whether you are likely eligible
  for the National Disability Insurance Scheme (NDIS) and to give you tips for the
  next steps in applying.
  
  **This questionnaire currently only applies for people with autism spectrum disorder.**
  
    ***Disclaimer***  
  
    This questionnaire is **not** legal advice. 
  
    Please answer all questions honestly.
    
    This questionnaire does not guarantee you will receive funding from the NDIS. 
    It will help you assess whether you are likely eligible and give you tips
    on the next steps.
    
    **The NDIA will make the final decision.**
    
    *We advise you to have a support person while filling out the questionnaire.*

  If you continue, you accept these terms.
buttons:
  - Continue: continue
  - Exit: exit
    url: https://communitybridgingservices.org.au
---
#
# Mandatory code block that drives the interview
mandatory: True
code: |
  if ( STGage_ok == False ):
    endpoint['ineligibleduetoage']
  elif ( STGresidency == False ):
    endpoint['ineligibleduetoresidency']
  elif ( STGpotentialautism_ok == False ):
    endpoint['noautism']
  elif (( STGdiagnosedautism or STGcommunication_checkboxes or STGlearning_checkboxes or STGmobility_checkboxes or STGsocialinteraction_checkboxes or STGselfcare_checkboxes or STGselfmanagement_checkboxes) and 
       (STGsocialandeconomicparticipation_checkboxes)):
    endpoint['eligible']
  else:
    endpoint['ineligible']
---